<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sales Report Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>

<div>
    <span style="float:right"> Welcome <a th:text="*{employee.username}" ></a> </span>
</div>

<h1>SALES REPORT PAGE</h1>

<form action="#" th:action="@{/SalesReport}" method="GET">

    <fieldset>
        NUMBER OF TOTAL PURCHASES PER PACKAGE:
        <ul>
            <li th:each="servicePackage : ${packages}">
                <label th:for="${servicePackage.id}" th:text="${'Package name: ' + servicePackage.name +
                        ', created by: ' + servicePackage.getUsernameEmployee().getUsername() +
                        ', sold: ' + servicePackage.soldNumber}">
                </label>
            </li>
        </ul>
    </fieldset>

    <fieldset>
        NUMBER OF TOTAL PURCHASES PER PACKAGE AND VALIDITY PERIOD:
        <ul>
            <li th:each="package : ${packagePerValidityPeriod}">
                <label th:for="${package.getPackageId()}" th:text="${'Package name: ' + package.name +
                    ', sold for 12 months: ' + package.getSoldNumber12() +
                    ', sold for 24 months: ' + package.getSoldNumber24() +
                    ', sold for 36 months: ' + package.getSoldNumber36()}">
                </label>
            </li>
        </ul>
    </fieldset>

    <fieldset>
        TOTAL VALUE OF SALES PER PACKAGE WITH AND WITHOUT THE OPTIONAL PRODUCTS:
        <ul>
            <li th:each="package : ${valueOfSales}">
                <label th:for="${package.getPackageId()}" th:text="${'Package name: ' + package.name +
                ', value of sales with optional products: ' + package.getValueOfSalesWith() +
                ', value of sales without optional products: ' + package.getValueOfSalesWithout()}">
                </label>
            </li>
        </ul>
    </fieldset>

    <fieldset>
        AVERAGE NUMBER OF OPTIONAL PRODUCTS SOLD TOGETHER WITH EACH SERVICE PACKAGE:
        <ul>
            <li th:each="package : ${averageOptionals}">
                <label th:for="${package.getPackageId()}" th:text="${'Package name: ' + package.name +
                ', average number of optional products sold together: ' + package.getAverage()}">
                </label>
            </li>
        </ul>
    </fieldset>

    <fieldset>
        BEST SELLER OPTIONAL PRODUCT:
        <ul>
            <label th:text="${'Optional product name: ' + bestSoldNumber.getName() +
            ', sold number: ' + bestSoldNumber.getSoldNumber()}">
            </label>
        </ul>
    </fieldset>

    <fieldset>
        OPTIONAL PRODUCT WITH GREATEST VALUE OF SALES:
        <ul>
            <label th:text="${'Optional product name: ' + bestValue.getName() +
            ', sold number: ' + bestValue.getValueOfSales()}">
            </label>
        </ul>
    </fieldset>

</form>

<a href="GoToEmployeeHomePage"> <input type="submit" value="Back To HomePage"> </a>


</body>
</html>